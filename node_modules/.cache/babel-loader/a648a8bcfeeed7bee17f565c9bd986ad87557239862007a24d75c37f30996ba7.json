{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0422\\u0412/Documents/GitHub/Panto_Furniture/Panto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer,useState}from'react';import cart from\"../assets/data/cart\";import{confirmAlert}from'react-confirm-alert';import'react-confirm-alert/src/react-confirm-alert.css';import trashCan from\"../assets/images/delete.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartItem=function CartItem(props){var _useReducer=useReducer(function(x){return x+1;},0),_useReducer2=_slicedToArray(_useReducer,2),reducerValue=_useReducer2[0],forceUpdate=_useReducer2[1];var _useState=useState(props.item.count+1-1),_useState2=_slicedToArray(_useState,2),inputCount=_useState2[0],setInputCount=_useState2[1];var _useState3=useState(\"cartItem__content\"),_useState4=_slicedToArray(_useState3,2),cartItemClass=_useState4[0],setCartItemClass=_useState4[1];var confirmDelete=function confirmDelete(){confirmAlert({title:'Item removing',message:'Are you sure you want to remove this item from the cart?',buttons:[{label:'Yes, I am',onClick:function onClick(){props.item.count=0;cart.pop(props.item);setCartItemClass(\"cartItem__content hidden\");}},{label:'No. Go back'}],closeOnEscape:true,closeOnClickOutside:true});};var countLeftHandler=function countLeftHandler(){if(inputCount!==1){setInputCount(inputCount-1);props.item.count--;}else{confirmDelete();}forceUpdate();};var countRightHandler=function countRightHandler(){if(inputCount!==99){setInputCount(inputCount+1);props.item.count++;}forceUpdate();};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:cartItemClass,children:[/*#__PURE__*/_jsx(\"img\",{className:\"cartItem__img\",src:props.item.img,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartItem__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"cartItem__title\",children:props.item.title}),/*#__PURE__*/_jsx(\"img\",{src:props.item.rating,alt:\"\",className:\"cartItem__rating\"}),/*#__PURE__*/_jsx(\"p\",{className:\"cartItem__description\",children:props.item.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"cartItem__price\",children:[\"$\",props.item.price*inputCount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartItem__purchaseSection\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cartItem__count countLeft\",onClick:countLeftHandler,children:\"<\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cartItem__counter\",value:inputCount}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cartItem__count countRight\",onClick:countRightHandler,children:\">\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cartItem__purchaseButton\",children:\"Buy\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"trashCan__button\",onClick:confirmDelete,children:/*#__PURE__*/_jsx(\"img\",{width:32,height:32,src:trashCan,alt:\"\"})})]})});};export default CartItem;","map":{"version":3,"names":["React","useReducer","useState","cart","confirmAlert","trashCan","jsx","_jsx","jsxs","_jsxs","CartItem","props","_useReducer","x","_useReducer2","_slicedToArray","reducerValue","forceUpdate","_useState","item","count","_useState2","inputCount","setInputCount","_useState3","_useState4","cartItemClass","setCartItemClass","confirmDelete","title","message","buttons","label","onClick","pop","closeOnEscape","closeOnClickOutside","countLeftHandler","countRightHandler","className","children","src","img","alt","rating","description","price","type","value","width","height"],"sources":["C:/Users/ТВ/Documents/GitHub/Panto_Furniture/Panto/src/components/CartItem.jsx"],"sourcesContent":["import React, {useReducer, useState} from 'react';\r\nimport cart from \"../assets/data/cart\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport trashCan from \"../assets/images/delete.png\"\r\n\r\nconst CartItem = (props) => {\r\n    const [reducerValue, forceUpdate] = useReducer(x => x + 1, 0);\r\n\r\n    const [inputCount, setInputCount] = useState(props.item.count + 1 - 1)\r\n\r\n    const [cartItemClass, setCartItemClass] = useState(\"cartItem__content\")\r\n\r\n    const confirmDelete = () => {\r\n        confirmAlert({\r\n            title: 'Item removing',\r\n            message: 'Are you sure you want to remove this item from the cart?',\r\n            buttons: [\r\n                {\r\n                    label: 'Yes, I am',\r\n                    onClick: () => {\r\n                        props.item.count = 0\r\n                        cart.pop(props.item)\r\n                        setCartItemClass(\"cartItem__content hidden\")\r\n                    }\r\n                },\r\n                {\r\n                    label: 'No. Go back',\r\n                }\r\n            ],\r\n            closeOnEscape: true,\r\n            closeOnClickOutside: true,\r\n        });\r\n    };\r\n\r\n    const countLeftHandler = () => {\r\n        if (inputCount !== 1) {\r\n            setInputCount(inputCount - 1)\r\n            props.item.count--\r\n        }\r\n        else {\r\n            confirmDelete()\r\n        }\r\n       forceUpdate()\r\n    }\r\n    const countRightHandler = () => {\r\n        if (inputCount !== 99) {\r\n            setInputCount(inputCount + 1)\r\n            props.item.count++\r\n        }\r\n        forceUpdate()\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className={cartItemClass}>\r\n                <img className=\"cartItem__img\" src={props.item.img} alt=\"\"/>\r\n                <div className=\"cartItem__info\">\r\n                    <h1 className=\"cartItem__title\">{props.item.title}</h1>\r\n                    <img src={props.item.rating} alt=\"\" className=\"cartItem__rating\"/>\r\n                    <p className=\"cartItem__description\">{props.item.description}</p>\r\n                    <p className=\"cartItem__price\">${props.item.price * inputCount}</p>\r\n                    <div className=\"cartItem__purchaseSection\">\r\n                        <button type={\"button\"} className=\"cartItem__count countLeft\" onClick={countLeftHandler} >{\"<\"}</button>\r\n                        <input type=\"text\" className=\"cartItem__counter\" value={inputCount}/>\r\n                        <button type={\"button\"} className=\"cartItem__count countRight\" onClick={countRightHandler}>{\">\"}</button>\r\n                        <button type={\"button\"} className=\"cartItem__purchaseButton\">Buy</button>\r\n                    </div>\r\n                </div>\r\n                <button className=\"trashCan__button\" onClick={confirmDelete}><img width={32} height={32} src={trashCan} alt=\"\"/></button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}